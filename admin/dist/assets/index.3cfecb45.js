var Ve=Object.defineProperty,Re=Object.defineProperties;var Ne=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var ie=(e,t,o)=>t in e?Ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,q=(e,t)=>{for(var o in t||(t={}))ge.call(t,o)&&ie(e,o,t[o]);if(oe)for(var o of oe(t))be.call(t,o)&&ie(e,o,t[o]);return e},re=(e,t)=>Re(e,Ne(t));var ce=(e,t)=>{var o={};for(var n in e)ge.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&oe)for(var n of oe(e))t.indexOf(n)<0&&be.call(e,n)&&(o[n]=e[n]);return o};var de=(e,t,o)=>(ie(e,typeof t!="symbol"?t+"":t,o),o);import{d as U,o as $,c as S,a as l,b as s,u as a,t as v,s as g,e as z,f as ye,g as Pe,h as ne,i as Z,r as E,j as $e,k as X,l as O,m as V,w as d,n as we,p as M,F as ue,q as ee,v as A,x as Fe,y as Be,z as R,E as He,A as Me,B as Je,C as Ce,D as ke,G as Ge,H as Ke,I as Ee,J as Y,K as We,L as J,M as qe,N as ze,O as Xe,P as Se,Q as te,R as _,S as ae,T as pe,U as je,V as Ye,W as Qe,X as Ze,Y as xe,Z as et,_ as tt,$ as at,a0 as st,a1 as ot,a2 as nt,a3 as lt,a4 as it}from"./vendor.b7b73a6c.js";const rt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function o(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(i){if(i.ep)return;i.ep=!0;const c=o(i);fetch(i.href,c)}};rt();const ct={class:"mx-4 py-4"},dt={class:"py-4 font-semibold"},ut={key:0,class:"flex gap-2 flex-wrap justify-between w-auto"},pt={class:"flex flex-roe justify-center w-auto items-center pt-2 gap-2"},mt={class:"text-base"},vt=U({name:"Navbar",components:{Menu:Pe,Button:g,Avatar:ne,TabMenu:ye},props:{user:Object,logout:{type:Function,default:e=>{}}}}),ht=U(re(q({},vt),{setup(e){const t=[{icon:"pi pi-home",label:"Dashboard",to:"/"},{icon:"pi pi-th-large",label:"Projects",to:"/projects"},{icon:"pi pi-bars",label:"Project Categories",to:"/project-categories"},{icon:"pi pi-list",label:"Project Updates",to:"/project-updates"},{icon:"pi pi-microsoft",label:"Investments",to:"/investments"},{icon:"pi pi-users",label:"Users",to:"/users"},{icon:"pi pi-user",label:"Profile",to:"/profile"}];return(o,n)=>{var i,c;return $(),S("div",ct,[l("div",dt,[o.user?($(),S("div",ut,[l("div",pt,[s(a(ne),{label:`${(i=o.user)==null?void 0:i.firstname.charAt(0)}${(c=o.user)==null?void 0:c.lastname.charAt(0)}`,class:"bg-primary-600 text-white h-12 w-12"},null,8,["label"]),l("div",mt,v(o.user.firstname)+" "+v(o.user.lastname),1)]),s(a(g),{class:"p-button-text p-button-secondary",label:"Log out",onClick:o.logout},null,8,["onClick"])])):z("",!0)]),s(a(ye),{class:"navbar",model:t})])}}})),ft=U({props:["modelValue"],emits:["update:modelValue","input"],setup(e,{emit:t}){const o=e;return Z({set:n=>{t("update:modelValue",n)},get:()=>o.modelValue}),(n,i)=>null}});const _t=["for"],gt={class:""},bt={key:0,class:"p-dropdown-car-value flex items-center"},yt=["alt","src"],$t={key:1},wt={class:"p-dropdown-car-option flex items-center"},Ct=["alt","src"],kt=l("p",{class:"px-8 py-12"},"Drag and drop file(s) to here to upload.",-1),Et=U({props:{schema:{type:Object,required:!0},submitFn:Function},emits:["reset"],setup(e,{emit:t}){const o=e,n=E(!1);function i(c){n.value=!0,o.submitFn&&Promise.all([o.submitFn(c)]).then(()=>{n.value=!1}).catch(p=>{console.debug(p),n.value=!1})}return $e({}),$e({}),X(()=>{}),(c,p)=>{const h=O("Dropdown"),w=O("InputNumber"),j=O("FileUpload");return $(),V(a(Me),{"validation-schema":e.schema.validation,"initial-values":e.schema.values,onSubmit:i,novalidate:!1},{default:d(({values:I,handleReset:C,errors:r})=>{var u,m;return[l("div",{class:M(e.schema.class)},[($(!0),S(ue,null,we(e.schema.fields,hs=>{var he=hs,{as:y,name:f,label:k,children:T,inputClass:H,class:Oe}=he,P=ce(he,["as","name","label","children","inputClass","class"]);return $(),S("div",{class:M(Oe),key:f},[l("label",{class:"block",for:f},[l("span",gt,v(k),1),f?($(),S(ue,{key:0},[y=="Dropdown"?($(),V(a(ee),A({key:0,name:f},P,{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),{default:d(({field:x})=>[s(h,A({class:{"p-invalid":r[f]}},P,{id:f,modelValue:x.value,onInput:b=>x.onInput.forEach(D=>D(b.value)),onChange:b=>x.onChange.forEach(D=>D(b.value)),"onUpdate:modelValue":b=>x.onChange.forEach(D=>D(b.value))}),Fe({_:2},[f=="countrycode"?{name:"value",fn:d(b=>{var D,F,se;return[b.value?($(),S("div",bt,[l("img",{class:"h-5 w-7 mr-2",alt:(D=b==null?void 0:b.value)==null?void 0:D.name,src:(F=b==null?void 0:b.value)==null?void 0:F.flag},null,8,yt),l("span",null,v((se=b==null?void 0:b.value)==null?void 0:se.dialCode),1)])):($(),S("span",$t,v(b.placeholder),1))]})}:void 0,f=="countrycode"?{name:"option",fn:d(b=>{var D,F;return[l("div",wt,[l("img",{class:"h-4 w-6 mr-2",alt:b.option.name,src:b.option.flag},null,8,Ct),l("span",null,v((D=b==null?void 0:b.option)==null?void 0:D.name)+" ("+v((F=b==null?void 0:b.option)==null?void 0:F.dialCode)+")",1)])]})}:void 0]),1040,["class","id","modelValue","onInput","onChange","onUpdate:modelValue"])]),_:2},1040,["name"])):y=="InputNumber"?($(),V(a(ee),A({key:1,name:f},P),{default:d(({field:x})=>[s(w,A(x,{class:[H,"mt-1 block w-full rounded-md"],"model-value":x.value}),null,16,["class","model-value"])]),_:2},1040,["name"])):P.type=="tel"||y=="vue-tel-input"||y=="TelInput"?($(),V(a(ee),A({key:2,name:f},P),{default:d(({field:x})=>[s(ft,A(x,{class:[H,"mt-1 block w-full rounded-md"],modelValue:x.value,onOnInput:b=>[...x.onInput,...x.onChange]}),null,16,["class","modelValue","onOnInput"])]),_:2},1040,["name"])):P.type=="file"||y=="FileUpload"?($(),V(a(ee),A({key:3,name:f},P,{class:"w-full"}),{default:d(({field:x})=>[s(j,A({class:{"p-invalid":r.campaign}},q(q({},x),P),{id:f,showUploadButton:!1,showCancelButton:!1,onSelect:b=>x.onChange.forEach(D=>D(b.value)),onBlur:b=>x.onBlur.forEach(D=>D(b.value))}),{empty:d(()=>[kt]),_:2},1040,["class","id","onSelect","onBlur"])]),_:2},1040,["name"])):($(),V(a(ee),A({key:4,as:y,id:f,name:f,class:[H,"mt-1 block w-full rounded-md"]},P),{default:d(()=>[T&&T.length?($(!0),S(ue,{key:0},we(T,(fs,se)=>{var fe=fs,{tag:x,value:b,text:D}=fe,F=ce(fe,["tag","value","text"]);var _e;return $(),V(Be(x!=null?x:"option"),A({key:se},(_e=F.value)!=null?_e:F,{value:b||D}),{default:d(()=>[R(v(D),1)]),_:2},1040,["value"])}),128)):z("",!0)]),_:2},1040,["as","id","name","class"]))],64)):z("",!0),f?($(),V(a(He),{key:1,class:"text-red-500",name:f},null,8,["name"])):z("",!0)],8,_t)],2)}),128))],2),l("div",{class:M(e.schema.buttonsContainerClass)},[s(a(g),{type:"submit",class:M(["btn mt-4",e.schema.buttonClass]),loading:n.value,"loading-label":(u=e.schema.buttonLoadingLabel)!=null?u:"Loading...",label:(m=e.schema.buttonLabel)!=null?m:"Submit"},null,8,["class","loading","loading-label","label"])],2)]}),_:1},8,["validation-schema","initial-values"])}}});var St={fields:[{label:"Email",name:"email",as:"InputText",class:"col-span-3"},{label:"Password",name:"password",type:"password",as:"InputText",class:"col-span-3"}],validation:Je({email:Ce().required().email().label("Email"),password:Ce().required().label("Password")}),values:{},class:"grid gap-4 grid-cols-3 mb-8",buttonLabel:"Login",resetButtonLabel:"Cancel",buttonLoadingLabel:"Logging in...",buttonClass:"ml-auto w-full",showResetButton:!0,buttonsContainerClass:"flex justify-between gap-4"};function jt(e){let t="Please contact your developer for assistance";typeof e!="undefined"&&e.hasOwnProperty("message")&&(t=`${e.message}. ${e.message==="Network Error"?"Please check your internet connection":""}`),typeof e.response!="undefined"&&(e.response.status===401?t="Please contact your developer for assistance":e.response.status==422?e.response.data.message:e.response.status===413?t="File to large to process.":e.response.status===404||e.response.status===405||(e.response.status>=400?t="Invalid input. Please check your input values":e.response.status>=500),e.hasOwnProperty("response")&&e.response.hasOwnProperty("data")&&e.response.data.hasOwnProperty("error")&&e.response.data.error&&e.response.data.error.length>0&&(t=e.response.data.error)),console.error(`<<<<<<<<< AXIOS ERROR >>>>>>>>>>
`,e),t.length>0}const G=q({},ke);G.defaults.baseURL="https://tritech-agric.herokuapp.com";G.defaults.headers.post["Content-Type"]="application/json";ke.interceptors.response.use(function(e){return Promise.resolve(e)},function(e){return jt(e),Promise.reject(e)});var N;(function(e){e.AUTH_LOGIN="/auth/login",e.AUTH_REGISTER="/auth/register",e.AUTH_FORGOT_PASSWORD="/auth/reset-password",e.PROJECTS="/projects",e.USERS="/users",e.USER_INVESTMENTS="/user/me/investments",e.USER_PROJECT_UPDATES="/user/me/updates",e.INVESTMENTS="/investments",e.PROJECT_UPDATES="/project-updates",e.PROJECT_CATEGORIES="/project-categories",e.PAYMENTS="/payments",e.NOTIFICATIONS="/notifications",e.IP_LOOKUP="http://ip-api.com/json",e.WP_MEDIA_UPLOAD="http://agric.tritech.com.ng/wp-json/wp/v2/media"})(N||(N={}));function De(e){return e.toLocaleString("en-NG",{currency:"NGN",style:"currency"})}function K(e){return new Date(e).toDateString()}function xt(e,t,o){const n=new Date,i={value:t,expiry:n.getTime()+o};localStorage.setItem(e,JSON.stringify(i))}function Dt(e){const t=localStorage.getItem(e);if(!t)return null;const{expiry:o,value:n}=JSON.parse(t);return new Date().getTime()>o?(localStorage.removeItem(e),null):n}class B{constructor(t,o=!1,n=Ie()){de(this,"url");de(this,"axiosConfig",{});this.url=t,o&&(this.axiosConfig=re(q({},this.axiosConfig),{headers:{Authorization:`Bearer ${n}`}}))}async getOne(t,o=""){return(await G.get(`${this.url}/${t}${o?"?"+o:""}`,this.axiosConfig)).data}async getAll(t=""){return(await G.get(`${this.url}/${t?"?"+t:""}`,this.axiosConfig)).data}async create(t){return(await G.post(`${this.url}`,t,this.axiosConfig)).data}async update(t,o){return(await G.patch(`${this.url}/${t}`,o,this.axiosConfig)).data}async delete(t){return(await G.delete(`${this.url}/${t}`,this.axiosConfig)).data}}function It(e){return xt("agric_token",e,60*24*60*60)}function Ie(){var e;return(e=Dt("agric_token"))!=null?e:""}function Ut(){return window.localStorage.removeItem("agric_user"),window.localStorage.removeItem("agric_token")}var Tt={namespace:!0,state:{user:void 0,token:""},getters:{user(e){return e.user}},mutations:{SET_USER(e,t){e.user=t},SET_TOKEN(e,t){e.token=t}},actions:{async fetchUser(e){if(!e.state.user){const t=await new B(N.USERS,!0).getOne("me");return e.commit("SET_USER",t),t}return e.state.user},async getToken(e){const t=window.localStorage.getItem("token");return e.commit("SET_TOKEN",t),t!=null?t:""},async login(e,t){const o=await new B(N.AUTH_LOGIN).create(t);return It(o.accessToken),window.localStorage.setItem("agric_user",JSON.stringify(o.user)),e.commit("SET_USER",o.user),e.commit("SET_TOKEN",o.accessToken),o},async register(e,t){return await new B(N.AUTH_REGISTER).create(t)}}};const me=Symbol(),Lt=Ge({state:{appName:"Tritech Agric"},mutations:{},actions:{},modules:{Auth:Tt},plugins:[Ke()]}),At={class:"login"},Ot=U({props:{display:{type:Boolean,default:!1}},emits:["update:display","success"],setup(e,{emit:t}){const o=e,n=Ee(me),i=Y(),c=Z({set:h=>{t("update:display",h)},get:()=>o.display}),p=async h=>n.dispatch("login",h).then(w=>{c.value=!1,t("success"),i.add({severity:"success",detail:"Login successful",life:3e3})}).catch(()=>{i.add({severity:"error",detail:"Login failed",life:5e3})});return(h,w)=>($(),V(a(J),{visible:a(c),"onUpdate:visible":w[0]||(w[0]=j=>We(c)?c.value=j:null),modal:"",breakpoints:{"960px":"65vw","640px":"90vw"},style:{width:"45vw"},header:"Login",closable:!1},{default:d(()=>[l("div",At,[s(Et,{schema:a(St),"submit-fn":p},null,8,["schema"])])]),_:1},8,["visible"]))}}),Ue=E(1),Te=()=>{Ut(),Ue.value++};function Vt(){const e=Ee(me),t=Z(()=>e.getters.user),o=Z(()=>Ie());return e.dispatch("fetchUser").then(()=>{e.dispatch("getToken")}),e.dispatch("getToken"),o.value||Te(),{user:t,isLoggedIn:!o.value,token:o,logOut:Te,appKey:Ue}}var Q=(e,t)=>{const o=e.__vccOpts||e;for(const[n,i]of t)o[n]=i;return o};const Rt=U({name:"App",components:{Navbar:ht,Toast:qe,AppLogin:Ot,Sidebar:ze,Button:g},setup(){Xe();const{isLoggedIn:e,logOut:t,appKey:o,user:n}=Vt(),i=E(e);return Se(o,()=>{i.value=!0}),{logOut:t,key:o,user:n,displayLoginDialog:i}}}),Nt={class:"grid gap-my-4 relative h-full"},Pt={class:"ta_menu"},Ft={class:""},Bt={class:"px-4 lg:px-8 py-4"},Ht=l("div",{class:"p-8"},"Visit user dashboard",-1);function Mt(e,t,o,n,i,c){const p=O("Toast"),h=O("Navbar"),w=O("router-view"),j=O("AppLogin");return $(),S("div",{class:"h-auto",key:e.key},[s(p),l("div",Nt,[l("div",Pt,[s(h,{user:e.user,logout:e.logOut},null,8,["user","logout"])]),l("div",Ft,[l("div",Bt,[s(w)])]),Ht]),s(j,{display:e.displayLoginDialog,"onUpdate:display":t[0]||(t[0]=I=>e.displayLoginDialog=I)},null,8,["display"])])}var Jt=Q(Rt,[["render",Mt]]);const Gt={name:"404.vue"},Kt=l("h1",null,"Not Found",-1),Wt=[Kt];function qt(e,t,o,n,i,c){return $(),S("div",null,Wt)}var zt=Q(Gt,[["render",qt]]);const Xt=U({name:"PageHeading",props:{title:String,subtitle:String},components:{Button:g}}),Yt={class:"page-heading mb-4"},Qt={class:""},Zt={class:"text-xl"},ea={class:"text-gray-600"};function ta(e,t,o,n,i,c){const p=O("Button");return $(),S("div",Yt,[l("div",Qt,[s(p,{class:"p-button-text nav-back",onClick:t[0]||(t[0]=h=>e.$router.back()),icon:"pi pi-arrow-left"})]),l("div",null,[l("h3",Zt,v(e.title),1),l("div",ea,v(e.subtitle),1)])])}var W=Q(Xt,[["render",ta]]);const aa=U({name:"Home",components:{PageHeading:W}}),sa={class:"home"},oa=l("h1",null,"Welcome to the home page",-1),na=l("p",null,"Nothing here yet",-1);function la(e,t,o,n,i,c){const p=O("page-heading");return $(),S("div",sa,[s(p,{title:"Dashboard"}),oa,na])}var ia=Q(aa,[["render",la]]);const ra={class:"about"},ca=l("h1",null,"Coming soon",-1),ve=U({setup(e){return(t,o)=>($(),S("div",ra,[s(W,{title:`${t.$route.name}`},null,8,["title"]),ca]))}}),da="modulepreload",Le={},ua="https://agric.tritech.com.ng/wp-content/plugins/tritech-agric-addon-wp-plugin-main/admin/dist/",le=function(t,o){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=`${ua}${n}`,n in Le)return;Le[n]=!0;const i=n.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${c}`))return;const p=document.createElement("link");if(p.rel=i?"stylesheet":da,i||(p.as="script",p.crossOrigin=""),p.href=n,document.head.appendChild(p),i)return new Promise((h,w)=>{p.addEventListener("load",h),p.addEventListener("error",w)})})).then(()=>t())};const pa={class:"project-list"},ma={class:"table-header mb-4"},va={class:"flex gap-2"},ha=l("div",null,null,-1),fa={style:{height:"calc(100vh - 15rem)"}},_a=["src","alt"],ga=U({setup(e){const t=E([]),o=new B(N.PROJECTS,!0),n=Y(),i=te(),c=E(!1),p=E(),h=()=>{o.getAll().then(r=>{t.value=r,n.add({severity:"info",detail:"Projects fetched",life:3e3})}).catch(()=>{n.add({severity:"error",detail:"Failed to fetch Projects",life:5e3})})},w=()=>{i.push({name:"CreateProject"})},j=r=>{i.push({name:"EditProject",params:{id:r}})},I=r=>{c.value=!0,p.value=r},C=()=>{var r,u;o.delete((u=(r=p.value)==null?void 0:r.id)!=null?u:"").then(()=>{c.value=!1,p.value=void 0,n.add({severity:"info",detail:"Project deleted",life:3e3}),h()}).catch(()=>{n.add({severity:"error",detail:"delete failed",life:5e3})})};return X(()=>{h()}),(r,u)=>($(),S("div",pa,[s(W,{title:"All Projects",subtitle:"Click to edit a project"}),l("div",ma,[l("div",va,[s(a(g),{icon:"pi pi-refresh",onClick:h}),s(a(g),{label:"New Project",onClick:w})]),ha]),l("div",fa,[s(a(ae),{onRowClick:u[0]||(u[0]=m=>j(m.data.id)),class:"bg-white shadow-md border rounded-lg",value:t.value,scrollable:!0,scrollDirection:"both",responsiveLayout:"scroll",scrollHeight:"flex",style:{width:"100%"}},{footer:d(()=>[R("In total there are "+v(t.value?t.value.length:0)+" projects.",1)]),default:d(()=>[s(a(_),{header:"Image"},{body:d(m=>{var y;return[l("img",{src:(y=m.data.image)!=null?y:"https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png",alt:m.data.image,class:"project-image"},null,8,_a)]}),_:1}),s(a(_),{field:"title",header:"Title"}),s(a(_),{field:"fee",header:"Investment Fee"},{body:d(m=>[R(v(a(De)(m.data.fee)),1)]),_:1}),s(a(_),{field:"roi",header:"Returns"}),s(a(_),{field:"totalSlots",header:"Total Slots"}),s(a(_),{field:"availableSlots",header:"Available Slots"}),s(a(_),{header:"Status"},{body:d(m=>[l("span",{class:M("project-badge status-"+m.data.status.toLowerCase())},v(m.data.status),3)]),_:1}),s(a(_),{header:"Start Date"},{body:d(m=>[l("span",null,v(a(K)(m.data.startDate)),1)]),_:1}),s(a(_),{header:"Action"},{body:d(m=>[s(a(g),{icon:"pi pi-pencil",onClick:y=>j(m.data.id),class:"p-button-text p-button-info"},null,8,["onClick"]),s(a(g),{icon:"pi pi-trash",onClick:y=>I(m.data),class:"p-button-text p-button-danger"},null,8,["onClick"])]),_:1})]),_:1},8,["value"])]),s(a(J),{visible:c.value,onHide:u[2]||(u[2]=m=>c.value=!1),header:"Confirm Delete"},{footer:d(()=>[s(a(g),{onClick:u[1]||(u[1]=m=>c.value=!1),icon:"pi pi-close",label:"Cancel",class:"p-button-text text-black"}),s(a(g),{onClick:C,icon:"pi pi-trash",label:"Delete",class:"p-button-danger"})]),default:d(()=>{var m,y;return[l("p",null,"Are you sure you want to delete "+v((y=(m=p.value)==null?void 0:m.title)!=null?y:"this")+" project?",1)]}),_:1},8,["visible"])]))}}),ba=[{path:"/projects",name:"ProjectList",component:ga},{path:"/projects/new",name:"CreateProject",component:()=>le(()=>import("./CreateProject.cd1fa7c1.js"),["assets/CreateProject.cd1fa7c1.js","assets/vendor.b7b73a6c.js"])},{path:"/projects/:id/edit",name:"EditProject",component:()=>le(()=>import("./EditProject.790f71f6.js"),["assets/EditProject.790f71f6.js","assets/vendor.b7b73a6c.js"])}];const ya={class:"project-list"},$a={class:"table-header mb-4"},wa={class:"flex gap-2"},Ca=l("div",null,null,-1),ka={class:"flex gap-2 items-center"},Ea=["src","alt"],Sa=U({setup(e){const t=E([]),o=new B(N.PROJECT_UPDATES,!0),n=Y(),i=te(),c=E(!1),p=E(),h=()=>{o.getAll().then(r=>{t.value=r}).catch(()=>{n.add({severity:"error",detail:"Failed to fetch updates",life:5e3})})},w=()=>{i.push({name:"CreateProjectUpdate"})},j=r=>{i.push({name:"EditProjectUpdate",params:{id:r}})},I=r=>{c.value=!0,p.value=r},C=()=>{var r,u;o.delete((u=(r=p.value)==null?void 0:r.id)!=null?u:"").then(()=>{c.value=!1,p.value=void 0,n.add({severity:"info",detail:"Project deleted",life:3e3}),h()}).catch(()=>{n.add({severity:"error",detail:"delete failed",life:5e3})})};return X(()=>{h()}),(r,u)=>($(),S("div",ya,[s(W,{title:"Project Updates"}),l("div",$a,[l("div",wa,[s(a(g),{icon:"pi pi-refresh",onClick:h}),s(a(g),{label:"New Project",onClick:w})]),Ca]),s(a(ae),{class:"bg-white shadow-md border rounded-lg",value:t.value,responsiveLayout:"scroll"},{footer:d(()=>[R("In total there are "+v(t.value?t.value.length:0)+" updates.",1)]),default:d(()=>[s(a(_),{header:"Project"},{body:d(m=>[l("div",ka,[l("img",{src:"https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png",alt:m.data.project.image,class:"project-image"},null,8,Ea),l("div",null,v(m.data.project.title),1)])]),_:1}),s(a(_),{field:"title",header:"Title"}),s(a(_),{field:"stage",header:"stage"}),s(a(_),{header:"Created At"},{body:d(m=>[l("span",null,v(a(K)(m.data.createdAt)),1)]),_:1}),s(a(_),{header:"Last Updated"},{body:d(m=>[l("span",null,v(a(K)(m.data.updatedAt)),1)]),_:1}),s(a(_),{header:"Action"},{body:d(m=>[s(a(g),{icon:"pi pi-pencil",onClick:y=>j(m.data.id),class:"p-button-text p-button-info"},null,8,["onClick"]),s(a(g),{icon:"pi pi-trash",onClick:y=>I(m.data),class:"p-button-text p-button-danger"},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),s(a(J),{visible:c.value,onHide:u[1]||(u[1]=m=>c.value=!1),header:"Confirm Delete"},{footer:d(()=>[s(a(g),{onClick:u[0]||(u[0]=m=>c.value=!1),icon:"pi pi-close",label:"Cancel",class:"p-button-text text-black"}),s(a(g),{onClick:C,icon:"pi pi-trash",label:"Delete",class:"p-button-danger"})]),default:d(()=>{var m,y;return[l("p",null,"Are you sure you want to delete "+v((y=(m=p.value)==null?void 0:m.title)!=null?y:"this")+" project update?",1)]}),_:1},8,["visible"])]))}}),ja=[{path:"/project-updates",name:"ProjectUpdateList",component:Sa},{path:"/projects-updates/new",name:"CreateProjectUpdate",component:()=>le(()=>import("./CreateProjectUpdate.380bfdc7.js"),["assets/CreateProjectUpdate.380bfdc7.js","assets/vendor.b7b73a6c.js"])},{path:"/project-updates/:id/edit",name:"EditProjectUpdate",component:()=>le(()=>import("./EditProjectUpdate.94eb63c6.js"),["assets/EditProjectUpdate.94eb63c6.js","assets/vendor.b7b73a6c.js"])}];const xa={class:"project-list"},Da={class:"table-header mb-4"},Ia={class:"flex gap-2"},Ua=l("div",null,null,-1),Ta={style:{height:"calc(100vh - 15rem)"}},La={class:"mb-4"},Aa=l("label",{class:"block"},"Title",-1),Oa={class:"mb-4"},Va=l("label",{class:"block"},"Description",-1),Ra=U({setup(e){const t=E([]),o=E([]),n=new B(N.PROJECT_CATEGORIES,!0),i=Y();te();const c=E(!1),p=E(),h=E(!1),w=E({title:"",description:""}),j=()=>{n.getAll().then(y=>{t.value=y}).catch(()=>{i.add({severity:"error",detail:"Failed to fetch Categories",life:5e3})})},I=()=>{h.value=!0},C=()=>{if(!w.value.title)return i.add({severity:"error",detail:"Please enter a title for the category",life:5e3});n.create(w.value).then(y=>{w.value={title:"",description:""},h.value=!1,j(),i.add({severity:"success",detail:`Successfully added ${y.title}`,life:3e3})}).catch(()=>{i.add({severity:"error",detail:"Failed to add category",life:5e3})})},r=y=>{let{newData:f,index:k}=y;n.update(f.id,f).then(T=>{f=T,j(),i.add({severity:"success",detail:`${f.title} updated`,life:3e3})}).catch(()=>{i.add({severity:"error",detail:"Failed to edit category",life:3e3})})},u=y=>{c.value=!0,p.value=y},m=()=>{var y,f;n.delete((f=(y=p.value)==null?void 0:y.id)!=null?f:"").then(()=>{c.value=!1,p.value=void 0,i.add({severity:"info",detail:"Category deleted",life:3e3}),j()}).catch(()=>{i.add({severity:"error",detail:"delete failed",life:5e3})})};return X(()=>{j()}),(y,f)=>($(),S("div",xa,[s(W,{title:"All Categories",subtitle:"Click to edit a project"}),l("div",Da,[l("div",Ia,[s(a(g),{icon:"pi pi-refresh",onClick:j}),s(a(g),{label:"New Category",onClick:I})]),Ua]),l("div",Ta,[s(a(ae),{class:"bg-white shadow-md border rounded-lg",value:t.value,scrollable:!0,scrollDirection:"both",responsiveLayout:"scroll",scrollHeight:"flex",style:{width:"100%"},editMode:"row",dataKey:"id",editingRows:o.value,"onUpdate:editingRows":f[0]||(f[0]=k=>o.value=k),onRowEditSave:r},{footer:d(()=>[R("In total there are "+v(t.value?t.value.length:0)+" categories.",1)]),default:d(()=>[s(a(_),{field:"id",header:"#ID",style:{width:"10%","min-width":"2rem"}}),s(a(_),{field:"title",header:"Title"},{editor:d(({data:k,field:T})=>[s(a(pe),{modelValue:k[T],"onUpdate:modelValue":H=>k[T]=H,autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(a(_),{field:"description",header:"Description",style:{width:"40%"}},{editor:d(({data:k,field:T})=>[s(a(je),{modelValue:k[T],"onUpdate:modelValue":H=>k[T]=H},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(a(_),{rowEditor:!0,style:{"min-width":"2rem"},bodyStyle:"text-align:center"}),s(a(_),null,{body:d(k=>[s(a(g),{icon:"pi pi-trash",onClick:T=>u(k.data),class:"p-button-text p-button-danger"},null,8,["onClick"])]),_:1})]),_:1},8,["value","editingRows"])]),s(a(J),{visible:c.value,onHide:f[2]||(f[2]=k=>c.value=!1),header:"Confirm Delete"},{footer:d(()=>[s(a(g),{onClick:f[1]||(f[1]=k=>c.value=!1),icon:"pi pi-close",label:"Cancel",class:"p-button-text text-black"}),s(a(g),{onClick:m,icon:"pi pi-trash",label:"Delete",class:"p-button-danger"})]),default:d(()=>{var k,T;return[l("p",null,"Are you sure you want to delete "+v((T=(k=p.value)==null?void 0:k.title)!=null?T:"this")+" project?",1)]}),_:1},8,["visible"]),s(a(J),{visible:h.value,onHide:f[6]||(f[6]=k=>h.value=!1),header:"Add Category"},{footer:d(()=>[s(a(g),{onClick:f[5]||(f[5]=k=>h.value=!1),icon:"pi pi-close",label:"Cancel",class:"p-button-text text-black"}),s(a(g),{onClick:C,icon:"pi pi-plus",label:"Create",class:""})]),default:d(()=>[l("div",La,[Aa,s(a(pe),{modelValue:w.value.title,"onUpdate:modelValue":f[3]||(f[3]=k=>w.value.title=k),autofocus:"",class:"block w-full"},null,8,["modelValue"])]),l("div",Oa,[Va,s(a(je),{modelValue:w.value.description,"onUpdate:modelValue":f[4]||(f[4]=k=>w.value.description=k),class:"block w-full"},null,8,["modelValue"])])]),_:1},8,["visible"])]))}}),Na=[{path:"/project-categories",name:"ProjectCategoryList",component:Ra}];const Pa={class:"investment-list"},Fa={class:"table-header mb-4"},Ba={class:"flex gap-2"},Ha=l("div",null,null,-1),Ma={style:{height:"calc(100vh - 15rem)"}},Ja=["src","alt"],Ga={class:"flex gap-2"},Ka=U({setup(e){const t=E([]),o=new B(N.INVESTMENTS,!0),n=Y();te();const i=E(!1),c=E(),p=()=>{o.getAll().then(I=>{t.value=I,n.add({severity:"info",detail:"Investments fetched",life:3e3})}).catch(()=>{n.add({severity:"error",detail:"Failed to fetch Investments",life:5e3})})},h=()=>{},w=I=>{},j=()=>{var I,C;o.delete((C=(I=c.value)==null?void 0:I.id)!=null?C:"").then(()=>{i.value=!1,c.value=void 0,n.add({severity:"info",detail:"Investment deleted",life:3e3}),p()}).catch(()=>{n.add({severity:"error",detail:"delete failed",life:5e3})})};return X(()=>{p()}),(I,C)=>($(),S("div",Pa,[s(W,{title:"All Investments",subtitle:"Click to edit a investment"}),l("div",Fa,[l("div",Ba,[s(a(g),{icon:"pi pi-refresh",onClick:p}),s(a(g),{label:"New Investment",onClick:h})]),Ha]),l("div",Ma,[s(a(ae),{onRowClick:C[0]||(C[0]=r=>w(r.data.id)),class:"bg-white shadow-md border rounded-lg",value:t.value,scrollable:!0,scrollDirection:"both",responsiveLayout:"scroll",scrollHeight:"flex",style:{width:"100%"}},{footer:d(()=>[R("In total there are "+v(t.value?t.value.length:0)+" investments.",1)]),default:d(()=>[s(a(_),{header:"Image"},{body:d(r=>{var u;return[l("img",{src:(u=r.data.project.image)!=null?u:"https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png",alt:r.data.project.image,class:"investment-image"},null,8,Ja)]}),_:1}),s(a(_),{field:"project.title",header:"Title"},{body:d(r=>[R(v(r.data.project.title)+" ("+v(r.data.quantity)+")",1)]),_:1}),s(a(_),{field:"fee",header:"Investment Fee"},{body:d(r=>[R(v(a(De)(r.data.fee)),1)]),_:1}),s(a(_),{header:"User"},{body:d(r=>{var u,m;return[l("div",Ga,[s(a(ne),{label:`${(u=r.data.user)==null?void 0:u.firstname.charAt(0)}${(m=r.data.user)==null?void 0:m.lastname.charAt(0)}`,class:"bg-primary-500 text-white h-12 w-12"},null,8,["label"]),l("div",null,v(r.data.user.firstname)+" "+v(r.data.user.lastname),1)])]}),_:1}),s(a(_),{header:"Status"},{body:d(r=>[l("span",{class:M("investment-badge status-"+r.data.status.toLowerCase())},v(r.data.status),3)]),_:1}),s(a(_),{header:"Payment Status"},{body:d(r=>[l("span",{class:M("investment-badge status-"+r.data.payment.status.toLowerCase())},v(r.data.payment.status),3)]),_:1}),s(a(_),{header:"Created At"},{body:d(r=>[l("span",null,v(a(K)(r.data.createdAt)),1)]),_:1}),s(a(_),{header:"Last Updated"},{body:d(r=>[l("span",null,v(a(K)(r.data.updatedAt)),1)]),_:1}),s(a(_),{header:"Action"},{body:d(r=>[s(a(g),{icon:"pi pi-pencil",onClick:u=>w(r.data.id),class:"p-button-text p-button-info"},null,8,["onClick"])]),_:1})]),_:1},8,["value"])]),s(a(J),{visible:i.value,onHide:C[2]||(C[2]=r=>i.value=!1),header:"Confirm Delete"},{footer:d(()=>[s(a(g),{onClick:C[1]||(C[1]=r=>i.value=!1),icon:"pi pi-close",label:"Cancel",class:"p-button-text text-black"}),s(a(g),{onClick:j,icon:"pi pi-trash",label:"Delete",class:"p-button-danger"})]),default:d(()=>{var r,u;return[l("p",null,"Are you sure you want to delete "+v((u=(r=c.value)==null?void 0:r.id)!=null?u:"this")+" investment?",1)]}),_:1},8,["visible"])]))}}),Wa=[{path:"/investments",name:"InvestmentList",component:Ka}];const qa={class:"user-list"},za={class:"table-header mb-4"},Xa={class:"flex gap-2"},Ya=l("div",null,null,-1),Qa={style:{height:"calc(100vh - 15rem)"}},Za={class:"flex gap-2"},es=U({setup(e){const t=E([]),o=new B(N.USERS,!0),n=Y();te();const i=E(!1),c=E(),p=()=>{o.getAll().then(C=>{t.value=C,n.add({severity:"info",detail:"Users fetched",life:3e3})}).catch(()=>{n.add({severity:"error",detail:"Failed to fetch Users",life:5e3})})},h=()=>{},w=C=>{},j=C=>{i.value=!0,c.value=C},I=()=>{var C,r;o.delete((r=(C=c.value)==null?void 0:C.id)!=null?r:"").then(()=>{i.value=!1,c.value=void 0,n.add({severity:"info",detail:"User deleted",life:3e3}),p()}).catch(()=>{n.add({severity:"error",detail:"delete failed",life:5e3})})};return X(()=>{p()}),(C,r)=>($(),S("div",qa,[s(W,{title:"All Users",subtitle:"Click to edit a user"}),l("div",za,[l("div",Xa,[s(a(g),{icon:"pi pi-refresh",onClick:p}),s(a(g),{label:"New User",onClick:h})]),Ya]),l("div",Qa,[s(a(ae),{onRowClick:r[0]||(r[0]=u=>w(u.data.id)),class:"bg-white shadow-md border rounded-lg",value:t.value,scrollable:!0,scrollDirection:"both",responsiveLayout:"scroll",scrollHeight:"flex",style:{width:"100%"}},{footer:d(()=>[R("In total there are "+v(t.value?t.value.length:0)+" users.",1)]),default:d(()=>[s(a(_),{header:"Image"},{body:d(u=>[s(a(ne),{label:`${u.data.firstname.charAt(0)}${u.data.lastname.charAt(0)}`,class:"bg-primary-500 text-white h-12 w-12"},null,8,["label"])]),_:1}),s(a(_),{header:"Name"},{body:d(u=>[l("div",Za,[l("div",null,v(u.data.firstname)+" "+v(u.data.middlename)+" "+v(u.data.lastname),1)])]),_:1}),s(a(_),{field:"mobile",header:"Moblie"}),s(a(_),{field:"email",header:"Email"}),s(a(_),{header:"Created At"},{body:d(u=>[l("span",null,v(a(K)(u.data.createdAt)),1)]),_:1}),s(a(_),{header:"Last Updated"},{body:d(u=>[l("span",null,v(a(K)(u.data.updatedAt)),1)]),_:1}),s(a(_),{header:"Action"},{body:d(u=>[s(a(g),{icon:"pi pi-pencil",onClick:m=>w(u.data.id),class:"p-button-text p-button-info"},null,8,["onClick"]),s(a(g),{icon:"pi pi-trash",onClick:m=>j(u.data),class:"p-button-text p-button-danger"},null,8,["onClick"])]),_:1})]),_:1},8,["value"])]),s(a(J),{visible:i.value,onHide:r[2]||(r[2]=u=>i.value=!1),header:"Confirm Delete"},{footer:d(()=>[s(a(g),{onClick:r[1]||(r[1]=u=>i.value=!1),icon:"pi pi-close",label:"Cancel",class:"p-button-text text-black"}),s(a(g),{onClick:I,icon:"pi pi-trash",label:"Delete",class:"p-button-danger"})]),default:d(()=>{var u,m;return[l("p",null,"Are you sure you want to delete "+v((m=(u=c.value)==null?void 0:u.id)!=null?m:"this")+" user?",1)]}),_:1},8,["visible"])]))}}),ts=[{path:"/users",name:"UserList",component:es}],as=[{path:"/",name:"Dashboard",component:ia},...ba,...ja,...Na,...Wa,...ts,{path:"/users",name:"User",component:ve},{path:"/profile",name:"Profile",component:ve},{path:"/login",name:"Login",component:ve,meta:{allowAuth:!0}},{path:"/:pathMatch(.*)*",component:zt}],Ae=Ye({history:Qe("https://agric.tritech.com.ng/wp-content/plugins/tritech-agric-addon-wp-plugin-main/admin/dist/"),routes:as});Ae.beforeEach((e,t,o)=>o());const ss=U({name:"MEditor",components:{Editor:Ze},emits:["update:modelValue","input","blur","change"],props:{editorStyle:String,formats:Array,placeholder:String,readonly:{default:!1,type:Boolean},modelValue:{type:String}},computed:{value:{get(){var e;return(e=this.modelValue)!=null?e:this.$attrs.value},set(e){this.$emit("update:modelValue",e),this.$emit("change",e)}}},methods:{onInput(e){this.$emit("input",e),this.$emit("update:modelValue",e)}}});function os(e,t,o,n,i,c){const p=O("Editor",!0);return $(),V(p,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=h=>e.value=h),editorStyle:e.editorStyle,formats:e.formats,placeholder:e.placeholder,readonly:e.readonly,onInput:e.onInput},null,8,["modelValue","editorStyle","formats","placeholder","readonly","onInput"])}var ns=Q(ss,[["render",os]]);const ls=(e="",t=async()=>{},o={chooseLabel:"Choose photo",altChooseLabel:"Change photo"})=>{const n=E(e?2:1),i=Z(()=>{const h=n.value>1;return{key:n.value,mode:h?"basic":"advanced",class:h?"second-choose-button mx-auto p-button-text":"",chooseLabel:h?o.altChooseLabel:o.chooseLabel}}),c=E(e);return{fileUploadMeta:i,fileUploadKey:n,uploadedFile:c,upload:async h=>{c.value=h.files.length>0?h.files[0]:"",n.value+=1,t&&await t()}}};const is={class:"mb-4"},rs=["for"],cs={key:0,class:"text-red-500"},ds={key:0,class:"h-56"},us=["src"],ps={class:"px-4 py-8"},ms=U({props:["modelValue","label","id","name","placeholder","errors"],emits:["update:modelValue"],setup(e,{emit:t}){const o=e,{fileUploadMeta:n,uploadedFile:i,upload:c}=ls(o.modelValue);return Se(i,(p,h)=>{t("update:modelValue",p)}),(p,h)=>{var w;return $(),S("div",is,[l("label",{class:"block",for:e.id||e.name},[R(v(e.label)+" ",1),e.errors?($(),S("small",cs,v(e.errors[e.name]),1)):z("",!0)],8,rs),a(i)?($(),S("div",ds,[l("img",{class:"w-full h-full object-cover object-center",src:(w=a(i).objectURL)!=null?w:a(i)},null,8,us)])):z("",!0),s(a(xe),A({auto:"",name:"file[]",accept:"image/*",fileLimit:1,customUpload:!0,onUploader:a(c),showUploadButton:!1,showCancelButton:!1},a(n)),{empty:d(()=>[l("p",ps,v(e.placeholder||"Drag and drop image to here to upload."),1)]),_:1},16,["onUploader"])])}}});var vs=Q(ms,[["__scopeId","data-v-e9deb878"]]);const L=et(Jt);L.component("FontAwesomeIcon",tt);L.component("Editor",ns);L.component("InputText",pe);L.component("InputNumber",at);L.component("MultiSelect",st);L.component("Dropdown",ot);L.component("ProgressSpinner",nt);L.component("PictureInput",vs);L.component("FileUpload",xe);L.use(Lt,me);L.use(Ae);L.use(lt);L.use(it);L.mount("#app");export{N as A,W as P,B as S,Et as _};
